# ================================================================
# PRODUCTION ENVIRONMENT TEMPLATE
# ================================================================
# 
# SECURITY WARNING: 
# This template contains placeholder values only.
# In production, ALL sensitive values must be stored in GCP Secret Manager.
# Never put real secrets in environment files.
#
# Production features:
# - Full security enabled
# - Error monitoring and alerting
# - Performance optimization
# - Comprehensive logging
# - Rate limiting and CORS protection
#
# ================================================================

# ==================
# CORE ENVIRONMENT
# ==================
NODE_ENV="production"
NEXT_PUBLIC_ENVIRONMENT="production"
NEXT_PUBLIC_VERSION="2.0.0"
NEXT_PUBLIC_DEBUG="false"
DEV_MODE="false"
NEXT_PUBLIC_DEV_MODE="false"

# ==================
# PRODUCTION URLS
# ==================
NEXT_PUBLIC_API_URL="/api"
NEXT_PUBLIC_BASE_URL="https://your-production-domain.com"
BASE_URL="https://your-production-domain.com"
PRODUCTION_URL="https://your-production-domain.com"

# Cloud Run auto-populated values (examples)
PORT="8080"
SERVICE_NAME="izerwaren-frontend"
SERVICE_VERSION="2.0.0"
CLOUD_RUN_REGION="us-central1"
# CLOUD_RUN_SERVICE_ID="auto-generated-by-cloud-run"

# API Configuration
NEXT_PUBLIC_API_TIMEOUT="30000"
NEXT_PUBLIC_API_RETRY_ATTEMPTS="3"
# REVIVAL_API_BASE="auto-configured-via-service-discovery"

# ==================
# PRODUCTION DATABASE
# ==================
# Retrieved from GCP Secret Manager: 'izerwaren-db-connection'
DATABASE_URL="postgresql://username:password@db-host:5432/izerwaren_prod?schema=public&sslmode=require"

# Production database settings
DB_SSL="true"
DB_CONNECTION_TIMEOUT="30000"
DB_MAX_CONNECTIONS="20"

# ==================
# SECRET MANAGER CONFIGURATION
# ==================
# Enable GCP Secret Manager for secure configuration
USE_SECRET_MANAGER="true"
GOOGLE_CLOUD_PROJECT="your-gcp-project-id"

# Sensitive values managed by Secret Manager:
# - izerwaren-db-password (Database password)
# - izerwaren-shopify-admin-token (Shopify Admin API token)
# - izerwaren-shopify-webhook-secret (Shopify webhook secret)
# - izerwaren-firebase-private-key (Firebase private key)
# - izerwaren-jwt-secret (JWT signing secret)

# ------------------
# Database Configuration
# ------------------
DB_HOST="your-production-db-host"
DB_PORT="5432"
DB_NAME="izerwaren_production"
DB_USER="postgres"
# DB_PASSWORD - STORED IN SECRET MANAGER as 'izerwaren-db-password'
DB_SSL="true"
DB_MAX_CONNECTIONS="20"

# Legacy GCP Cloud SQL format (if needed):
# DATABASE_URL="postgresql://user:password@localhost/db?host=/cloudsql/project:region:instance"

# ------------------
# Next.js Authentication
# ------------------
# Production URL (will be set to actual service URL)
NEXTAUTH_URL="${SERVICE_URL}"
NEXTAUTH_SECRET="${NEXTAUTH_SECRET_FROM_SECRET_MANAGER}"

# ------------------
# Firebase Auth (Production)
# ------------------
FIREBASE_PROJECT_ID="${FIREBASE_PROJECT_ID}"
FIREBASE_CLIENT_EMAIL="${FIREBASE_CLIENT_EMAIL}"
# FIREBASE_PRIVATE_KEY - STORED IN SECRET MANAGER as 'izerwaren-firebase-private-key'

# Alternative: Use Application Default Credentials (recommended for Cloud Run)
# FIREBASE_CLIENT_EMAIL="ADC"
# FIREBASE_PRIVATE_KEY="ADC"

# Client-side Firebase
NEXT_PUBLIC_FIREBASE_PROJECT_ID="${FIREBASE_PROJECT_ID}"
NEXT_PUBLIC_FIREBASE_API_KEY="${FIREBASE_API_KEY}"
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID="${FIREBASE_MESSAGING_SENDER_ID}"
NEXT_PUBLIC_FIREBASE_APP_ID="${FIREBASE_APP_ID}"

# ------------------
# Shopify Integration (Production)
# ------------------
NEXT_PUBLIC_SHOPIFY_STORE_DOMAIN="${SHOPIFY_STORE_DOMAIN}"
NEXT_PUBLIC_SHOPIFY_STOREFRONT_ACCESS_TOKEN="${SHOPIFY_STOREFRONT_TOKEN}"

SHOPIFY_SHOP_DOMAIN="${SHOPIFY_STORE_DOMAIN}"
# SHOPIFY_ADMIN_ACCESS_TOKEN - STORED IN SECRET MANAGER as 'izerwaren-shopify-admin-token'
# SHOPIFY_WEBHOOK_SECRET - STORED IN SECRET MANAGER as 'izerwaren-shopify-webhook-secret'
SHOPIFY_API_VERSION="2024-01"

# ------------------
# API Configuration (Production)
# ------------------
# Relative URLs for same-service deployment
NEXT_PUBLIC_API_URL="/api"

# Revival API (if needed in production)
# REVIVAL_API_BASE="${REVIVAL_API_BASE_URL}"

# Legacy Image Domain
LEGACY_IMAGE_DOMAIN="izerwaren.biz"

# ------------------
# Cloud Run Service Configuration
# ------------------
# These are auto-populated by Cloud Run
SERVICE_NAME="izerwaren-frontend"
CLOUD_RUN_REGION="us-central1"
PORT="3000"

# For backend service:
# SERVICE_NAME="izerwaren-backend"
# SHOPIFY_APP_HOST="${SERVICE_NAME}-${CLOUD_RUN_SERVICE_ID}.${CLOUD_RUN_REGION}.run.app"

# ------------------
# Monitoring and Observability
# ------------------
NEXT_PUBLIC_VERSION="1.0.0"
CLOUD_TRACE_CONTEXT="${CLOUD_TRACE_CONTEXT}"

# ------------------
# Security Configuration
# ------------------
# JWT_SECRET - STORED IN SECRET MANAGER as 'izerwaren-jwt-secret'
JWT_EXPIRES_IN="24h"

# CORS Origins (comma-separated)
CORS_ORIGINS="https://your-frontend-domain.com,https://your-admin-domain.com"

# Rate Limiting
RATE_LIMIT_WINDOW_MS="900000"
RATE_LIMIT_MAX_REQUESTS="1000"

# ------------------
# Secret Manager Setup Commands
# ------------------
# To setup secrets from environment variables:
# 1. Set your environment variables with actual values
# 2. Run: node scripts/secret-manager.js setup
# 
# To create secrets manually:
# node scripts/secret-manager.js create izerwaren-db-password "your-db-password"
# node scripts/secret-manager.js create izerwaren-shopify-admin-token "your-shopify-token"
# node scripts/secret-manager.js create izerwaren-shopify-webhook-secret "your-webhook-secret"
# node scripts/secret-manager.js create izerwaren-firebase-private-key "your-firebase-key"
# node scripts/secret-manager.js create izerwaren-jwt-secret "your-jwt-secret"
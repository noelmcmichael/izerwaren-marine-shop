# ================================================================
# IZERWAREN REVAMP 2.0 - ENVIRONMENT CONFIGURATION TEMPLATE
# ================================================================
# 
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env.local for development
# 2. Replace placeholder values with your actual configuration
# 3. Never commit .env.local or files with real secrets to git
# 4. Production uses GCP Secret Manager for sensitive values
#
# SECURITY NOTICE:
# - This file contains placeholder values only
# - Real secrets must be stored in GCP Secret Manager for production
# - Use .env.local for development (automatically ignored by git)
#
# Last Updated: January 2025 (Task 1.8)
# ================================================================

# ==================
# CORE ENVIRONMENT
# ==================
# Application environment - affects logging, validation, and features
NODE_ENV="development"                              # Options: development, production, test
NEXT_PUBLIC_ENVIRONMENT="development"               # Client-accessible environment identifier

# Application metadata and versioning
NEXT_PUBLIC_VERSION="2.0.0"                        # Application version for monitoring
NEXT_PUBLIC_APP_VERSION="2.0.0"                    # Legacy compatibility alias
NEXT_PUBLIC_DEBUG="false"                          # Enable debug logging (development only)

# ==================
# API CONFIGURATION
# ==================
# Frontend to Backend Communication
NEXT_PUBLIC_API_URL="/api"                         # Internal API routes (use /api for same-origin)
NEXT_PUBLIC_BASE_URL="http://localhost:3000"       # Full application URL for absolute links
NEXT_PUBLIC_API_TIMEOUT="30000"                    # API request timeout in milliseconds
NEXT_PUBLIC_API_RETRY_ATTEMPTS="3"                 # Number of retry attempts for failed requests

# Legacy Revival API Integration
REVIVAL_API_BASE="http://localhost:8000"           # Development Revival API endpoint
                                                   # Production: Auto-configured via service discovery

# ==================
# DATABASE CONFIGURATION
# ==================
# PostgreSQL Connection (Development)
DATABASE_URL="postgresql://username:password@localhost:5432/izerwaren_dev?schema=public"
# Production: Retrieved from GCP Secret Manager as 'izerwaren-db-connection'

# Database Connection Pool Settings
DB_HOST="localhost"                                 # Database host
DB_PORT="5432"                                     # Database port
DB_NAME="izerwaren_dev"                           # Database name
DB_USER="username"                                # Database user
DB_PASSWORD="password"                            # Database password
DB_SSL="false"                                    # Enable SSL for database connections
DB_CONNECTION_TIMEOUT="30000"                     # Connection timeout in milliseconds
DB_MAX_CONNECTIONS="10"                           # Maximum connections in pool

# ==================
# AUTHENTICATION & SECURITY
# ==================
# JWT Configuration
JWT_SECRET="your-jwt-secret-here-min-32-chars"     # JWT signing secret (min 32 characters)
JWT_EXPIRES_IN="24h"                              # JWT token expiration time
# Production: Retrieved from GCP Secret Manager as 'izerwaren-jwt-secret'

# NextAuth.js Configuration (if used)
NEXTAUTH_URL="http://localhost:3000"               # Application URL (auto-detected in production)
NEXTAUTH_SECRET="your-nextauth-secret-here"        # NextAuth.js secret

# ==================
# FIREBASE AUTHENTICATION
# ==================
# Server-side Firebase Admin SDK
FIREBASE_PROJECT_ID="your-firebase-project"        # Firebase project ID
FIREBASE_CLIENT_EMAIL="firebase-admin@your-project.iam.gserviceaccount.com"
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"
# Production: Retrieved from GCP Secret Manager as 'izerwaren-firebase-private-key'

# Client-side Firebase SDK (NEXT_PUBLIC_ variables are exposed to browser)
NEXT_PUBLIC_FIREBASE_PROJECT_ID="your-firebase-project"
NEXT_PUBLIC_FIREBASE_API_KEY="your-firebase-api-key"
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID="123456789"
NEXT_PUBLIC_FIREBASE_APP_ID="1:123456789:web:abc123def456"

# Firebase Configuration Options
NEXT_PUBLIC_FIREBASE_CONFIG=""                     # JSON string of complete Firebase config
SKIP_FIREBASE_AUTH="true"                         # Skip Firebase initialization (development)
NEXT_PUBLIC_DEV_MODE="true"                       # Enable development mode features
DEV_MODE="true"                                   # Server-side development mode flag

# ==================
# SHOPIFY INTEGRATION
# ==================
# Public Storefront API (Client-side accessible)
NEXT_PUBLIC_SHOPIFY_STORE_DOMAIN="your-store.myshopify.com"
NEXT_PUBLIC_SHOPIFY_STOREFRONT_ACCESS_TOKEN="your-storefront-access-token"

# Private Admin API (Server-side only)
SHOPIFY_SHOP_DOMAIN="your-store.myshopify.com"     # Should match public domain
SHOPIFY_ADMIN_ACCESS_TOKEN="shpat_your-admin-access-token"
SHOPIFY_WEBHOOK_SECRET="your-webhook-secret"       # For webhook signature verification
# Production: Retrieved from GCP Secret Manager as 'izerwaren-shopify-*'

# Shopify API Configuration
SHOPIFY_API_VERSION="2024-01"                     # Shopify API version
SHOPIFY_MAX_RETRIES="3"                           # Maximum retry attempts for Shopify API
SHOPIFY_RETRY_DELAY="1000"                        # Delay between retries in milliseconds

# ==================
# SEARCH SERVICES
# ==================
# Algolia Search Configuration
ALGOLIA_APP_ID="your-algolia-app-id"              # Algolia application ID
ALGOLIA_ADMIN_API_KEY="your-admin-api-key"        # Admin API key (server-side only)
NEXT_PUBLIC_ALGOLIA_APP_ID="your-algolia-app-id"  # Client-side app ID
NEXT_PUBLIC_ALGOLIA_SEARCH_API_KEY="your-search-only-api-key"  # Search-only API key
NEXT_PUBLIC_ALGOLIA_INDEX_NAME="products_production"  # Product index name
# Production: Retrieved from GCP Secret Manager as 'izerwaren-algolia-*'

# ==================
# ASSET & MEDIA MANAGEMENT
# ==================
# Image and Asset Configuration
LEGACY_IMAGE_DOMAIN="izerwaren.biz"               # Legacy image domain for fallback
STATIC_ASSETS_PATH="/assets"                      # Static assets path

# File Upload Limits
MAX_UPLOAD_SIZE="10485760"                        # Maximum file upload size (10MB)
ALLOWED_IMAGE_TYPES="image/jpeg,image/png,image/webp"  # Supported image formats
BODY_LIMIT="50mb"                                 # Request body size limit

# ==================
# CLOUD SERVICES & DEPLOYMENT
# ==================
# Google Cloud Platform
GOOGLE_CLOUD_PROJECT="your-gcp-project-id"        # GCP project for Secret Manager
USE_SECRET_MANAGER="false"                        # Enable Secret Manager (production: true)

# Cloud Run Service Configuration (Auto-populated in production)
SERVICE_NAME="izerwaren-frontend-hotfix"          # Cloud Run service name
SERVICE_VERSION="1.0.0"                          # Service version for monitoring
CLOUD_RUN_SERVICE_ID=""                          # Auto-generated service ID
CLOUD_RUN_REGION="us-central1"                   # Cloud Run deployment region
PORT="3000"                                      # Server port (development: 3000, production: 8080)
HOST="localhost"                                 # Server host
HOSTNAME="localhost"                             # Server hostname

# URL Configuration for different environments
BASE_URL="http://localhost:3000"                  # Base URL for the application
PRODUCTION_URL="https://your-production-domain.com"  # Production URL
STAGING_URL="https://your-staging-domain.com"     # Staging URL

# ==================
# MONITORING & OBSERVABILITY
# ==================
# Error Monitoring (Sentry)
SENTRY_DSN=""                                     # Server-side Sentry DSN
NEXT_PUBLIC_SENTRY_DSN=""                        # Client-side Sentry DSN
SENTRY_ORG="your-sentry-org"                     # Sentry organization
SENTRY_PROJECT="your-sentry-project"             # Sentry project
SENTRY_RELEASE=""                                # Auto-generated from build
NEXT_PUBLIC_SENTRY_RELEASE=""                   # Client-side release identifier

# Logging Configuration
LOG_LEVEL="info"                                 # Options: error, warn, info, debug, trace
LOG_FORMAT="combined"                            # Log format for Express
ENABLE_REQUEST_LOGGING="true"                   # Enable HTTP request logging
LOG_REQUEST_BODY="false"                        # Log request bodies (security risk)
ENABLE_ERROR_TRACKING="true"                    # Enable error tracking

# Tracing and Performance
CLOUD_TRACE_CONTEXT=""                          # Cloud Trace context (auto-populated)
OTEL_SEMCONV_STABILITY_OPT_IN="http/dup"       # OpenTelemetry semantic conventions

# ==================
# RATE LIMITING & SECURITY
# ==================
# API Rate Limiting
RATE_LIMIT_MAX_REQUESTS="100"                   # Max requests per window
RATE_LIMIT_WINDOW_MS="60000"                    # Rate limit window in milliseconds (1 minute)

# CORS Configuration
CORS_ORIGINS="http://localhost:3000,http://localhost:3001"  # Allowed CORS origins

# Proxy Configuration (if behind proxy)
HTTP_PROXY=""                                   # HTTP proxy URL
HTTPS_PROXY=""                                  # HTTPS proxy URL
NO_PROXY="localhost,127.0.0.1"                 # Hosts to bypass proxy

# Connection Configuration
KEEP_ALIVE_TIMEOUT="5000"                      # Keep-alive timeout in milliseconds

# ==================
# TESTING CONFIGURATION
# ==================
# Playwright Testing
PLAYWRIGHT_ENV="development"                    # Playwright test environment
PLAYWRIGHT_BASE_URL="http://localhost:3000"     # Base URL for Playwright tests
PLAYWRIGHT_FINAL_HEALTH_CHECK="true"           # Enable final health check in tests

# Test Configuration
TEST_CONFIG=""                                  # JSON configuration for tests
TEST_CORRELATION_ID=""                         # Correlation ID for test requests

# Test Feature Flags
SKIP_ACCESSIBILITY_TESTS="false"               # Skip accessibility tests
SKIP_PERFORMANCE_TESTS="false"                 # Skip performance tests
SKIP_MOBILE_TESTS="false"                      # Skip mobile-specific tests

# ==================
# FEATURE FLAGS & DEVELOPMENT
# ==================
# Application Features
NEXT_PUBLIC_DEV_MODE="true"                    # Enable development features
CI="false"                                     # Continuous Integration environment flag

# Build Configuration
MEMORY_LIMIT="1024"                            # Memory limit in MB
NEXT_PHASE=""                                  # Next.js build phase
__NEXT_BUILD_ID=""                             # Next.js build ID (auto-generated)
__NEXT_PRIVATE_STANDALONE_CONFIG=""            # Next.js standalone config (auto-generated)

# Next.js Server Actions
NEXT_SERVER_ACTIONS_ENCRYPTION_KEY=""          # Encryption key for server actions

# Development Tools
PRISMA_SHOW_ALL_TRACES="false"                # Show all Prisma traces in development

# ================================================================
# ENVIRONMENT-SPECIFIC TEMPLATES
# ================================================================
#
# For different environments, copy this file and modify:
# 
# DEVELOPMENT: .env.local
# - Use localhost URLs
# - Enable debug logging
# - Skip authentication for testing
# - Use development databases
#
# STAGING: Set in deployment pipeline
# - Use staging URLs and services
# - Enable monitoring but not analytics
# - Use test/staging databases
# - Enable error tracking
#
# PRODUCTION: Set via GCP Secret Manager
# - Use production URLs and services
# - Enable full monitoring and analytics
# - Use production databases with SSL
# - Enable all security features
#
# ================================================================

# ================================================================
# SECURITY CHECKLIST
# ================================================================
#
# Before deploying to production:
# [ ] All sensitive values moved to GCP Secret Manager
# [ ] No real secrets in this file or any committed files
# [ ] Database connections use SSL in production
# [ ] JWT secrets are at least 32 characters
# [ ] CORS origins are properly restricted
# [ ] Rate limiting is enabled and configured
# [ ] Error tracking is configured
# [ ] Logging level is appropriate for environment
#
# ================================================================